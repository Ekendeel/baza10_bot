
import telebot
import random
from datetime import datetime, timedelta

# Токен твоего бота
TOKEN = '8009135131:AAHu7SPlXj25mebzzCCyWH7vOwOloUt_3B4'
bot = telebot.TeleBot(TOKEN)

# Список целей дня (взято из твоего файла)
goals = [
    "Сегодня: Контроль эмоций. Твой разум выше твоих чувств.",
    "Сегодня: Отказ от жалоб. Никакого негатива, только решения.",
    "Сегодня: Скорость. Действуй быстро, решай быстро.",
    "Сегодня: Минимализм. Убирай лишнее, оставляй ценное.",
    "Сегодня: Принятие решений. Решай твёрдо и окончательно.",
    "Сегодня: Нет оправданиям. Бери ответственность за всё.",
    "Сегодня: Уверенность. Делай так, будто не можешь ошибиться.",
    "Сегодня: Лидерство. Будь примером, за которым пойдут.",
    "Сегодня: Наблюдение. Замечай детали, замечай людей.",
    "Сегодня: Порядок. Систематизируй всё вокруг себя.",
    "Сегодня: Жёсткость. Нет компромиссам с дисциплиной.",
    "Сегодня: Полная тишина. Обрети ясность через молчание.",
    "Сегодня: Концентрация на здоровье. Ешь, двигайся и отдыхай правильно.",
    "Сегодня: Мышление чемпиона. Побеждай мысленно — победишь реально.",
    "Сегодня: Время дорого. Используй каждую минуту.",
    "Сегодня: Фокус на цели. Все действия только в направлении цели.",
    "Сегодня: Сила привычки. Закрепи полезные действия.",
    "Сегодня: Исключи страх. Действуй, словно нет страха.",
    "Сегодня: Честность с собой. Никакой лжи и иллюзий.",
    "Сегодня: Глубокая работа. 4 часа тотальной концентрации.",
    "Сегодня: Тренировка силы воли. Выбери трудное, но важное действие.",
    "Сегодня: Антикомфорт. Намеренно делай неудобное.",
    "Сегодня: Выдержка. Не реагируй импульсивно ни на что.",
    "Сегодня: Без телефона. Минимизируй отвлечения.",
    "Сегодня: Высокие стандарты. Сделай всё идеально.",
    "Сегодня: Готовность ошибаться. Ошибки — это топливо роста.",
    "Сегодня: Игнорируй мнения. Действуй независимо от чужих взглядов.",
    "Сегодня: День благодарности. Замечай, за что можно быть благодарным.",
    "Сегодня: Радикальное упрощение. Делай просто, чётко и быстро.",
    "Сегодня: Настойчивость. Не останавливайся, пока не завершишь дело.",
    "Сегодня: Избавься от лишнего общения. Только значимые диалоги.",
    "Сегодня: День визуализации. Представляй чётко свою победу.",
    "Сегодня: Строгость к себе. Повышай требования.",
    "Сегодня: Жизнь без сожалений. Сделай то, о чём не пожалеешь.",
    "Сегодня: Поддерживай энергию. Сон, питание, движение на максимум.",
    "Сегодня: Не реагируй на провокации. Оставайся спокойным.",
    "Сегодня: Скорость действий. Сократи время между решением и действием.",
    "Сегодня: Ищи возможности, а не причины.",
    "Сегодня: Внимание к деталям. Мелочи решают.",
    "Сегодня: Мышление миллионера. Думай масштабно.",
    "Сегодня: Контроль за словами. Говори чётко и осознанно.",
    "Сегодня: Антипрокрастинация. Сразу решай, сразу действуй.",
    "Сегодня: Лимит задач. 3 самые важные задачи на день.",
    "Сегодня: День анализа. Изучай свои слабости.",
    "Сегодня: Сила выбора. Каждый выбор — шаг к цели.",
    "Сегодня: Холоднокровие. Будь непоколебим перед трудностями.",
    "Сегодня: Ранний подъём. Утро решает день.",
    "Сегодня: Жёсткий режим. День по графику, без отклонений.",
    "Сегодня: Погружение в поток. Создай условия для максимальной концентрации.",
    "Сегодня: Энергия от отказа. Скажи «нет» всему лишнему.",
    "Сегодня: Будь наблюдателем. Анализируй, не осуждая.",
    "Сегодня: Полный отказ от соцсетей. Твоя жизнь важнее.",
    "Сегодня: Мышление на результат. Ориентируйся только на итоги.",
    "Сегодня: День спокойствия. Твой внутренний мир важнее хаоса вокруг.",
    "Сегодня: Сделай шаг навстречу страху.",
    "Сегодня: Экономь слова. Говори только по существу.",
    "Сегодня: Не торопись. Делай медленнее, но качественнее.",
    "Сегодня: День обучения. Изучи то, чего избегал.",
    "Сегодня: Сила действий. Меньше планируй, больше делай.",
    "Сегодня: Отказ от комфорта. Сделай день максимально неудобным для себя.",
    "Сегодня: Системное мышление. Действуй по заранее созданной системе.",
    "Сегодня: Выбор окружения. Общайся только с теми, кто усиливает тебя.",
    "Сегодня: Контроль дыхания. Дыши медленно и глубоко.",
    "Сегодня: Самоуважение. Не допускай действий, которые снижают уважение к себе.",
    "Сегодня: Твой враг — лень. Победи её сегодня.",
    "Сегодня: Абсолютная дисциплина. Никаких отступлений от плана.",
    "Сегодня: День экспериментов. Сделай что-то по-другому.",
    "Сегодня: Обуздай гнев. Сохраняй холодный разум.",
    "Сегодня: Устойчивость. Будь спокоен в любой ситуации.",
    "Сегодня: День без лишних трат. Экономь ресурсы.",
    "Сегодня: Антихаос. Создай порядок во всём.",
    "Сегодня: Учись говорить «нет».",
    "Сегодня: Фокус на одну задачу за раз. Никакого многозадачности.",
    "Сегодня: Не обсуждай людей. Только идеи и действия.",
    "Сегодня: День глубокого чтения. 1 час качественного текста.",
    "Сегодня: День физической активности. Больше движения.",
    "Сегодня: Держи осанку. Уверенность в каждом движении.",
    "Сегодня: Избавься от мусора. Очисти пространство вокруг себя.",
    "Сегодня: Запиши свои мысли. Систематизируй идеи.",
    "Сегодня: Говори меньше, слушай больше.",
    "Сегодня: День прощения. Отпусти обиды.",
    "Сегодня: Устрани отвлечения. Работай в тишине.",
    "Сегодня: Действуй вопреки сомнениям.",
    "Сегодня: Стремись к ясности. Определяй чётко, что нужно сделать.",
    "Сегодня: Не жди вдохновения. Действуй через силу.",
    "Сегодня: Фильтруй информацию. Потребляй только ценное.",
    "Сегодня: Изучай себя. Слушай внутренний голос.",
    "Сегодня: День качественного отдыха. Восстановись полноценно.",
    "Сегодня: Говори громче и чётче. Транслируй уверенность.",
    "Сегодня: Ищи трудности намеренно.",
    "Сегодня: Не спорь ни с кем. Сохрани энергию.",
    "Сегодня: День благодарности самому себе. Признай свои достижения.",
    "Сегодня: Делай добро незаметно.",
    "Сегодня: Меньше ожиданий от других, больше от себя.",
    "Сегодня: Строй планы, которые пугают.",
    "Сегодня: Сконцентрируйся на дыхании. Очищай ум.",
    "Сегодня: Игнорируй слабость.",
    "Сегодня: День креативности. Создай что-то новое.",
    "Сегодня: Цени настоящее.",
    "Сегодня: Работай так, будто это твой последний шанс."
]

# Сохраняем время последнего клика
last_clicked = {}

# Главное меню с кнопкой Цель дня
def main_menu():
    markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add('🔥 Цель дня')  # Добавляем новую кнопку
    return markup

# Обработчик команды /start
@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.send_message(
        message.chat.id, 
        "Нажми кнопку «🔥 Цель дня», чтобы получить цель.",
        reply_markup=main_menu()
    )

# Обработчик кнопки Цель дня
@bot.message_handler(func=lambda message: message.text == '🔥 Цель дня')
def send_goal_of_the_day(message):
    chat_id = message.chat.id
    now = datetime.now()
    
    # Проверяем, прошло ли 24 часа с последнего запроса
    if chat_id in last_clicked:
        last_time = last_clicked[chat_id]
        if now - last_time < timedelta(hours=24):
            remaining_time = timedelta(hours=24) - (now - last_time)
            bot.send_message(chat_id, f"Цель доступна только через {remaining_time}. Пожалуйста, подождите.")
            return
    
    # Сохраняем время последнего клика
    last_clicked[chat_id] = now

    # Выбираем случайную цель
    goal = random.choice(goals)
    bot.send_message(chat_id, f"Сегодня: {goal}")

# Запуск бота
bot.infinity_polling()
